<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset=utf-8>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/assets/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/assets/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/assets/favicons/manifest.json">
<link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#3498db">
<meta name="msapplication-TileImage" content="/assets/favicons/mstile-144x144.png">
<meta name="theme-color" content="#3498db">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="PrefaceThese instructions are designed to work on the following systems:  Linux  MacOS  Linux subsystem for Windows">

  <meta property="og:type" content="website">
<meta property="og:title" content="Working remotely with SSH - CSS Bristol">
<meta property="og:description" content="PrefaceThese instructions are designed to work on the following systems:  Linux  MacOS  Linux subsystem for Windows">
<meta property="og:image" content="https://cssbristol.co.uk/assets/images/core/og-image.png" />
<meta property="og:url" content="https://cssbristol.co.uk/tutorials/ssh/">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Working remotely with SSH - CSS Bristol">
<meta name="twitter:description" content="PrefaceThese instructions are designed to work on the following systems:  Linux  MacOS  Linux subsystem for Windows">
<meta name="twitter:image" content="https://cssbristol.co.uk/assets/images/core/og-image.png">
<meta name="twitter:site" content="@cssbristol">
 


  <title>Working remotely with SSH - CSS Bristol</title>

  <!-- Google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;0,800;1,400&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" />

  <link rel="stylesheet" href="/assets/css/site.css" />
  <link rel="canonical" href="https://cssbristol.co.uk/tutorials/ssh/" />
  

  

  <!-- Prefetch background images so they load faster next time page loads -->
  <link rel="prefetch" href="/assets/images/core/header-bg-01_70000.jpg">
  <link rel="prefetch" href="/assets/images/core/header-bg-02_70000.jpg">
  <link rel="prefetch" href="/assets/images/core/header-bg-03_70000.jpg">
  <link rel="prefetch" href="/assets/images/core/header-bg-04_70000.jpg">

  <!-- Script for FontAwesome icons -->
  <script src="https://kit.fontawesome.com/5918af34b4.js" crossorigin="anonymous" defer></script>
  
  <!-- Script for randomly choosing header background -->
  <script type="text/javascript" src="/assets/scripts/header-random-bg.js" defer></script>
  
  <!-- Cloudflare Web Analytics -->
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "d431ecabd63d4eea9aeb6a714157d663"}'></script>

  <!-- remove after a couple of months -->
  <script>
    const path = window.location.pathname;
    if (path.startsWith("/events/")) {
      const newPath = path.replaceAll("_", "-");
      if (newPath !== path) {
        window.location.replace(newPath);
      }
    }
  </script>
</head>


  <body>

    <header class="page-header noscript" id="page-header--random-bg">
  <div class="bg">
    <div id="header-random-background"></div>
  </div>
  <div class="navigation-items">
    <div itemscope itemtype="http://schema.org/Organization">
      <span style="display: none;" itemprop="name">University of Bristol Computer Science Society</span>
      <a aria-label="Home" href="/" class="page-header__logo" itemprop="url">
        <!-- <img src="/assets/images/core/logo-inline-light.png" alt="CSS Bristol logo" itemprop="logo"> -->
      </a>
    </div>
    <nav class="page-navigation">
      <ul class="page-navigation__links">
        
        
        
        <li><a href="/about/">About</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li><a href="/contact/">Contact</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li><a href="/events/index.html">Events</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li><a href="/jobs/">Jobs</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li><a href="/sponsors">Sponsor us</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li><a href="/tutorials/">Tutorials</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li><a href="/wellbeing/">Wellbeing</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
    </nav>
  </div>
  
</header>


    <section class="page-section">
  <article class="article">
    <header class="blog-post__header">
      <h1 class="blog-post__title">Working remotely with SSH</h1>
      <div class="blog-post__meta" itemscope itemtype="http://schema.org/Person">
        

        
        <span itemprop="author">
          <span itemprop="url"></span>
          
          <span itemprop="name">Daniel Jones</span>
          
        </span> on
        
        <time datetime="2020-03-17T12:00:00+00:00">Mar 17, 2020</time>
      </div>
    </header>
    <div class="blog-post__body">
      <h2 id="preface">Preface</h2>
<p>These instructions are designed to work on the following systems:</p>
<ul>
  <li>Linux</li>
  <li>MacOS</li>
  <li>Linux subsystem for Windows</li>
</ul>

<p>For Widows users who do not wish to use Linux subsystem for Windows please see the old tutorial <a href="https://cssbristol.co.uk/tutorials/ssh-into-snowy/">SSH and Snowy</a></p>

<h2 id="setting-up">Setting up</h2>
<p>We’re going to set up a nice environment for us to SSH into each lab machine with relatively little head ache</p>

<p>To do this we:</p>
<ul>
  <li>Generate a SSH key pair</li>
  <li>Upload the public key to the university systems</li>
  <li>Set up a configuration file to make our lives easier</li>
</ul>

<h3 id="generate-ssh-key-pair">Generate SSH key pair</h3>
<p>At the time of writing, only <em>RSA keys</em> are supported.</p>

<p>We’re going to generate a SSH key pair purely for logging into the lab.</p>

<p>First check if you have a .ssh directory. If not run the following command to create one with appropriate permissions:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -m 700 $HOME/.ssh
</code></pre></div></div>

<p>To generate the SSH key run the following command in your terminal:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-keygen -t RSA -f $HOME/.ssh/lab-machines
</code></pre></div></div>
<p>You will be asked if you want to set a passphrase. This is used to ‘unlock’ the key to be used.
It is recommended to set a passphrase as this will prevent unknown use of the key by others.</p>

<h3 id="uploading-the-public-key-to-the-university-systems">Uploading the public key to the university systems</h3>
<p>Now that you’ve generated a SSH key it must be uploaded to the university’s system.</p>

<p>To do this run the following command but replacing username with your Bristol username.</p>

<p>You’ll be asked for your password which is the password used to log into the lab machines</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-copy-id -i $HOME/.ssh/lab-machines username@snowy.cs.bris.ac.uk
</code></pre></div></div>

<h3 id="set-up-a-nice-configuration">Set up a nice configuration</h3>
<p>SSH allows us to create a configuration file which allows us to specify how to connect to each host.</p>

<p>As well as this we can set alias such as lab1 to mean connect to it075638.wks.bris.ac.uk</p>

<p>To make this easier, I’ve created a script to automatically append the 200+ machines to your configuration</p>

<p>This is done by running the following command:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh -c "$(curl -fsSL https://cssbristol.co.uk/assets/files/tutorials/ssh/setup.sh)"
</code></pre></div></div>
<p>When asked for your username this is your university username e.g. ab12345</p>

<p>When asked for the key file this is the path given in the e.g. <em>unless</em> you changed the path in the previous steps</p>

<h2 id="ssh-into-a-machine">SSH into a machine</h2>
<p>Now that you’ve set the above configuration you can SSH into many machines which include:</p>
<ul>
  <li>snowy  (SSH jump server)</li>
  <li>icy    (staff SSH jump server)</li>
  <li>frosty (server for running Cadence tools)</li>
  <li>lab0 to lab275</li>
</ul>

<p>To work on a lab 175 run the following command:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh lab175
</code></pre></div></div>
<p>You can do this for each of lab machines or go to one of the aforementioned servers with <code class="language-plaintext highlighter-rouge">ssh &lt;name&gt;</code></p>

<h3 id="checking-logged-in-users">Checking logged in users</h3>
<p>When SSH-ing to a lab machine its important to be courteous to your peers and check that no one is using the machine before using it.</p>

<p>To check who’s logged onto a machine by running:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>w
</code></pre></div></div>

<p>If someone is logged in (and it’s not your own username) then please logout and use a different box.</p>

<h2 id="mount-your-university-files-to-your-computer">Mount your university files to your computer</h2>
<p>You can actually mount all your university home directory to your computer and then use any program on your PC to edit them.</p>

<p>This requires installing sshfs then creating a folder such as <code class="language-plaintext highlighter-rouge">university-files</code></p>

<p>Then finally run <code class="language-plaintext highlighter-rouge">sshfs snowy: university-files</code></p>

<p>You can now access your university files remotely and any changes in this folder will actually be saved on the university servers!! 😮</p>

<h2 id="copying-files">Copying files</h2>
<p>To copy a file from your computer to the university do:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scp sourcefile snowy:target
</code></pre></div></div>

<p>To copy from the university to your computer do:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scp snowy:source target
</code></pre></div></div>

<p>If you wish to copy a folder add the recursive flag <code class="language-plaintext highlighter-rouge">-r</code></p>

<h2 id="working-remote-with-guis">Working remote with GUIs</h2>
<p>If you’re using the configuration file above then X window forwarding is enabled for any lab machine.
Simply execute the graphical program and it’ll be forwarded to your system.
It’s important to note that X forwarding is very slow so it is advisable to either work in the terminal or mount the uni file system.</p>

<p>For example to view a pdf on the lab machine with:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xdg-open test.pdf
</code></pre></div></div>
<p>Pro tip: <code class="language-plaintext highlighter-rouge">xdg-open</code> is the terminal equivalent of double clicking a file!</p>

<h2 id="resources">Resources</h2>
<p><a href="https://www.bristol.ac.uk/it-services/locations/fits/engineering/linux/remote-access">It services remote tutorial</a></p>


      <h2>Feedback</h2>
      <p>Any issues with this tutorial? Submit <a href="https://github.com/cssbristol/cssbristol.github.io/issues">an issue</a> or a <a href="https://github.com/cssbristol/cssbristol.github.io/pulls">pull request</a> and we'll get it sorted out right away.
    </div>
  </article>
</section>


    <section class="page-section sponsorsec">
    <h1 class="sponsors-title"><a href="/pages/sponsors">Proudly sponsored by</a></h1>
    <div class="sponsors">
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
        
      
        
      
        
          
        
      
        
      
        
          
        
          
        
      
        
          
        
      
        
      
        
      
        
          
        
          
        
      
        
      
        
      
        
          
        
          
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
          
        
      
        
      
        
          
        
          
        
          
        
      
        
          
        
          
        
          
        
          
        
      
        
      
        
      
        
          
        
          
        
          
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
          
        
          
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
          
            
<a
  href="https://www.publicissapient.com/"
  target="_blank"
  rel="noopener sponsored"
  data-tooltip="Publicis Sapient"
  class="company-logo"
>
  <img
    src="/assets/images/contrib/companies/publicis_sapient.svg"
    alt="Publicis Sapient"
    width="130"
    height="170"
  />
</a>

          
        
      
        
          
        
      
        
          
            
<a
  href="https://www.qube-rt.com/careers/"
  target="_blank"
  rel="noopener sponsored"
  data-tooltip="Qube Research & Technologies"
  class="company-logo"
>
  <img
    src="/assets/images/contrib/companies/qube-rt.svg"
    alt="Qube Research & Technologies"
    width="130"
    height="170"
  />
</a>

          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
          
        
      
    </div>
    <div class="sponsors__action_item">
      <a href="/sponsors">Learn more about working with us.</a>
    </div>
</section>


    <footer class="page-footer">
  <span class="page-footer__text">&copy; University of Bristol Computer Science Society</span>
  <nav class="page-footer__menu">
    <ul>
    
    
      
      <li>
        <a class="page-link" href="/about/">About</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/contact/">Contact</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/events/index.html">Events</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/jobs/">Jobs</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/sponsors">Sponsor us</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/tutorials/">Tutorials</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
      <li>
        <a class="page-link" href="/wellbeing/">Wellbeing</a>
      </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    </ul>
  </nav>
</footer>


  </body>

</html>
